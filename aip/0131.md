---
aip:
  id: 131
  state: approved
  created: 2019-01-22
  updated: 2019-05-29
permalink: /131
redirect_from:
  - /0131
---

# GET for a single resource

In REST APIs, it is customary to make a `GET` request to a resource's URI (for
example, `/publishers/{publisher_id}/books/{book_id}`) in order to retrieve
that resource.

Our APIs honor this pattern by allowing `GET` requests to be sent to the
resource URI, which return the resource itself.

## Guidance

APIs **should** generally provide a `GET` method for resources unless it is not
valuable for users to do so. The purpose of this method is to return data for a
single resource.

### Requests

Single-resource `GET` methods **must** be made by sending a `GET` request to
the resource's path:

```
GET /publishers/{publisher_id}/books/{book_id}
```

- The HTTP verb **must** be `GET`.
  - The request **must** be safe and **must not** have side effects.
- There **must not** be a request body.
  - If a `GET` request contains a body, the body **must** be ignored, and
    **must not** cause an error.

### Responses

Single-resource `GET` methods **must** return the resource itself, without any
additional wrapping:

```json
{
  "id": "les-miserables",
  "publisherId": "lacroix",
  "title": "Les Misérables",
  "authors": ["Victor Hugo"],
  "rating": 9.6
}
```

### Specification

#### OpenAPI

Single-resource `GET` methods **must** be specified with consistent OpenAPI
metadata:

```yaml
paths:
  /publishers/{publisherId}/books/{id}:
    get:
      operationId: getBook
      description: Get a single book.
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Book'
```

- The `operationId` **must** begin with the word `get`. The remainder of the
  `operationId` **should** be the singular form of the resource type's name.
- The response content **must** be the resource itself. For example:
  `#/components/schemas/Book`
- The URI **should** contain a variable for each individual ID in the resource
  hierarchy.
  - The variable for the resource ID **must** be named `id`. Variables
    representing the ID of parent resources **must** end with `Id`.

#### RAML

Single-resource `GET` methods **must** be specified in accordance with the
following RAML spec.

```yaml
/publishers/{publisherId}/books/{bookId}:
  uriParameters:
    publisherId:
      description: |
        The unique identifier provided by the system for this publisher.
    bookId:
      description: |
        The unique identifier provided by the system for this book.
  get:
    displayName: getBook
    description: Get a single book.
    responses:
      200:
        description: OK
        body:
          application/json:
            type: Book
```

- The `displayName` **must** begin with the word `get` followed by the singular
  form of the resource type's name.
- The response content **must** be the resource itself.
- The URI **must** contain a variable for each ID in the resource hierarchy.

#### Protocol buffers

Single-resource `GET` methods **must** be specified using the following
pattern:

```proto
rpc GetBook(GetBookRequest) returns (Book) {
  option (google.api.http) = {
    get: "/publishers/{publisher_id}/books/{id}"
  };
  option (google.api.method_signature) = "publisher_id,id";
}
```

- The RPC’s name **must** begin with the word `Get`. The remainder of the RPC
  name should be the singular form of the resource’s message name.
- The request message **must** match the RPC name, with a `Request` suffix.
- The response message **must** be the resource itself. (There is no
  `GetBookResponse`.)
- The request message **should** contain one variable for each resource
  identifier required.
  - The variable for the resource ID **must** be named `id`. Variables
    representing the ID of parent resources **must** end with `_id`.
  - The URI **should** have a variable corresponding each ID field.
  - There **must not** be any other variables in the URI the URI path. All
    remaining parameters **must** map to URI query parameters.
- There **must not** be a `body` key in the `google.api.http` annotation.
- There **should** be exactly one `google.api.method_signature` annotation,
  with a value containing each ID field, comma-separated. (Example:
  `publisher_id,id`)

### Errors

If the user does not have permission to access the resource, regardless of
whether or not it exists, the service **must** reply with an HTTP 403 error.
Permission **must** be checked prior to checking if the resource exists.

If the user does have proper permission, but the requested resource does not
exist, the service **must** reply with an HTTP 404 error.

## Changelog

- **2019-12-18**: Drafted up the IBM variant. :-)
- **2019-10-18**: Added guidance on annotations.
- **2019-08-12**: Added guidance for error cases.
- **2019-08-01**: Changed the examples from "shelves" to "publishers", to
  present a better example of resource ownership.
- **2019-05-29**: Added an explicit prohibition on arbitrary fields in standard
  methods.
